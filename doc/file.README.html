<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN"
  "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<html xmlns="http://www.w3.org/1999/xhtml" xml:lang="en" lang="en">
  <head>
    <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
<title>
  File: README
  
    &mdash; Documentation by YARD 0.8.7.3
  
</title>

  <link rel="stylesheet" href="css/style.css" type="text/css" charset="utf-8" />

  <link rel="stylesheet" href="css/common.css" type="text/css" charset="utf-8" />

<script type="text/javascript" charset="utf-8">
  hasFrames = window.top.frames.main ? true : false;
  relpath = '';
  framesUrl = "frames.html#!" + escape(window.location.href);
</script>


  <script type="text/javascript" charset="utf-8" src="js/jquery.js"></script>

  <script type="text/javascript" charset="utf-8" src="js/app.js"></script>


  </head>
  <body>
    <div id="header">
      <div id="menu">
  
    <a href="_index.html">Index</a> &raquo; 
    <span class="title">File: README</span>
  

  <div class="noframes"><span class="title">(</span><a href="." target="_top">no frames</a><span class="title">)</span></div>
</div>

      <div id="search">
  
    <a class="full_list_link" id="class_list_link"
        href="class_list.html">
      Class List
    </a>
  
    <a class="full_list_link" id="method_list_link"
        href="method_list.html">
      Method List
    </a>
  
    <a class="full_list_link" id="file_list_link"
        href="file_list.html">
      File List
    </a>
  
</div>
      <div class="clear"></div>
    </div>

    <iframe id="search_frame"></iframe>

    <div id="content"><div id='filecontents'>
<h1 id="label-CloudMoogle">CloudMoogle</h1>

<p>Rebuild of NomadMoogle FFXI parser designed to be internet-hosted, and with
a bias for playing with AWS services as a training exercise.</p>

<h1 id="label-Setup">Setup</h1>

<p>You&#39;ll need the aws-sdk gem installed, with your AWS access key/secret
key placed in their (hopefully obvious) places in config/credentials.yaml</p>

<p>Analysis is handled via an async process running somewhere polling an AWS
SQS queue.
It will read your party config from DynamoDB and the set of
actions performed so far
from a data file in S3. The analysis report will
be generated by one or more formatters
(only one so far: it generates a
single-page HTML report). This report is then uploaded
to S3 for you to
share with your teammates.</p>

<p>The parsing, of course, needs to happen on your local machine, since
that&#39;s where FFXI
is generating the log data we want to process.
I&#39;ve not tested the parser in a proper
Windows environment yet, so I
strongly recommend installing Cygwin and using RVM to install
ruby version
2.0 or greater (that&#39;s what I tested with).</p>

<p>So, on your analysis server, start the Analyzer daemon. Since the Agent is
decoupled from the Parser
via Amazon Simple Queue Service, you can actually
run this on any machine with internet
access, such as an EC2 instance. If
there&#39;s demand for it, I could incorporate automatically
using an EC2
micro instance for the Agent into the Manager.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ruby'>ruby</span> <span class='id identifier rubyid_lib'>lib</span><span class='op'>/</span><span class='const'>AnalysisAgent</span><span class='period'>.</span><span class='id identifier rubyid_rb'>rb</span></code></pre>

<p>Or you can use this script to kill the old agent process and restart, if,
for example,
you&#39;ve just pulled the latest source version from Github.</p>

<pre class="code ruby"><code class="ruby"><span class='id identifier rubyid_ruby'>ruby</span> <span class='id identifier rubyid_bin'>bin</span><span class='op'>/</span><span class='id identifier rubyid_restart'>restart</span></code></pre>

<p>Once again, I&#39;ve only tested this on linux, but it should run in Cygwin
just fine if you
want to keep all this on your local FFXI box.
Alternatively, spin up an EC2 micro instance
to do the heavy lifting for
you. I&#39;ll probably make the AMI I&#39;ve been testing with
available on
the marketplace at some point for that.</p>

<p>Next, while actually playing FFXI, find the logfile containing your current
data. This means
you&#39;ll need Windower installed and running with the
Logger plugin. I also use Timestamp, but
I believe the tools should
function okay without it if you&#39;re some kind of freak that
doesn&#39;t
want timestamps in their logs. Submit bug reports if it
doesn&#39;t: really, I want to support that,
but I don&#39;t play the game
that way.</p>

<p>You&#39;ll also need to set up your party configuration. The only required
data here is the names of
the player characters in your party (or at least
the subset you care to include in the analysis).
Run this tool to get the
party config set up in the DynamoDB:</p>

<pre class="code ruby"><code class="ruby">ruby bin/parties.rb new [PLAYER1] ... [PLAYER_N]</code></pre>

<p>To see a list of all of your party configurations, run this one:</p>

<pre class="code ruby"><code class="ruby">ruby bin/parties.rb list</code></pre>

<p>Finally, to delete extraneous configs:</p>

<pre class="code ruby"><code class="ruby">ruby bin/parties.rb delete PARTY_ID</code></pre>

<p>Anyway, get your party id from either the &#39;new&#39; or &#39;list&#39;
commands above, find your logfile,
and pass them to the live parser script:</p>

<pre class="code ruby"><code class="ruby">ruby bin/live_parse.rb FFXI_LOGFILE_PATH PARTY_ID</code></pre>

<p>When you&#39;re finished playing, or just want to start over with a
different party config, hit Control+C. It should wrap up
and automatically
submit your data for one final analysis.</p>
</div></div>

    <div id="footer">
  Generated on Thu Dec 12 11:58:01 2013 by
  <a href="http://yardoc.org" title="Yay! A Ruby Documentation Tool" target="_parent">yard</a>
  0.8.7.3 (ruby-2.0.0).
</div>

  </body>
</html>