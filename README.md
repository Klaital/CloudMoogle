CloudMoogle
===========

Rebuild of NomadMoogle FFXI parser designed to be internet-hosted, and with a bias for playing with AWS services as a training exercise.

Setup
===========
You'll need the aws-sdk gem installed, with your AWS access key/secret key placed in their (hopefully obvious) places in config/credentials.yaml

Analysis is handled via an async process running somewhere polling an AWS SQS queue. 
It will read your party config from DynamoDB and the set of actions performed so far
from a data file in S3. The analysis report will be generated by one or more formatters
(only one so far: it generates a single-page HTML report). This report is then uploaded
to S3 for you to share with your teammates.

The parsing, of course, needs to happen on your local machine, since that's where FFXI 
is generating the log data we are to process. I've not tested the parser in a proper
Windows environment yet, so I strongly recomment installing Cygwin and using RVM to install
ruby version 2.0 or greater (that's what I tested with).

So, on your analysis server, start the Analyzer daemon:
> ruby lib/AnalysisAgent.rb
Once again, I've only tested this on linux, but it should run in Cygwin just fine if you 
want to keep all this on your local FFXI box. Alternatively, spin up an EC2 micro instance
to do the heavy lifting for you. I'll probably make the AMI I've been testing with 
available on the marketplace at some point for that.

Next, while actually playing FFXI, find the logfile containing your current data. This means
you'll need Windower installed and running with the Logger plugin. I also use Timestamp, but
I believe the tools should function okay without it if you're some kind of freak that doesn't
want timestamps in their logs. Submit bug reports if it doesn't: really, I want to support that,
but I don't play the game that way.

You'll also need to set up your party configuration. The only required data here is the names of 
the player characters in your party (or at least the subset you care to include in the analysis).
Run this tool to get the party config set up in the DynamoDB:
> ruby bin/parties.rb new [PLAYER1] ... [PLAYER_N]

To see a list of all of your party configurations, run this one:
> ruby bin/parties.rb list

Finally, to delete extraneous configs:
> ruby bin/parties.rb delete PARTY_ID

Anyway, get your party id from either the 'new' or 'list' commands above, find your logfile, 
and pass them to the live parser script:
> ruby bin/live_parse.rb FFXI_LOGFILE_PATH PARTY_ID

When you're finished playing, or just want to start over with a different party config, hit Control+C. It should wrap up
and automatically submit your data for one final analysis.
